function animateClick(a){var b=a.slice(1,a.length);console.log(b),$(a).addClass("clicked-"+b);var c=a.slice(1,2);switch(c){case"r":sounds.red_sound.play();break;case"g":sounds.green_sound.play();break;case"y":sounds.yellow_sound.play();break;case"b":sounds.blue_sound.play()}setTimeout(function(){$(a).removeClass("clicked-"+b)},400)}function animateWithoutSound(a){var b=a.slice(1,a.length);$(a).addClass("clicked-"+b);setTimeout(function(){$(a).removeClass("clicked-"+b)},400)}var colors=["#yellow","#red","#green","#blue"],sounds={red_sound:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),green_sound:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),yellow_sound:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),blue_sound:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")},question={name:"question",newQuestion:function(){game.values.push(colors[Math.floor(4*Math.random())]),game.steps++,$(".steps > .text").html(game.steps),console.log(game.values)},playQuestion:function(){var a=0,b=setInterval(function(){animateClick(game.values[a]),a>=game.values.length-1?(clearInterval(b),game.change_state(question)):a++},800)}},answers={name:"answers",index_so_far:0,total_correct:0,init_answers:function(){$(".simon").removeClass("disabled"),answers.index_so_far=0,answers.total_correct=game.values.length},check_answers:function(a){a==game.values[answers.index_so_far]?(answers.index_so_far++,answers.index_so_far>=answers.total_correct&&game.change_state(answers)):game.lose()}},game={state:question,values:[],mode:"easy",steps:0,reset:function(){game.steps=0,game.state=question,game.values=[],$(".steps > .text").html(game.steps)},start:function(){game.reset(),$(".status").html("game"),$(".simon").addClass("disabled"),question.newQuestion(),question.playQuestion()},change_state:function(a){"question"==a.name?(game.state=answers,answers.init_answers()):(game.state=question,$(".simon").addClass("disabled"),game.steps>=20?game.stop():(question.newQuestion(),setTimeout(question.playQuestion,1e3)))},lose:function(){$(".status").html("loss"),"strict"==game.mode?(game.celebrate(700,2),setTimeout(game.start,1200)):(game.state=question,$(".simon").addClass("disabled"),game.celebrate(700,2),setTimeout(function(){$(".status").html("game"),question.playQuestion()},1200))},stop:function(){$(".status").html("win"),game.celebrate(700,3),game.reset()},celebrate:function(a,b){for(var c=0;b>c;c++)setTimeout(function(){for(var a in colors)animateWithoutSound(colors[a]);sounds.green_sound.play()},c*a)}};$(document).ready(function(){sounds.red_sound.load(),sounds.green_sound.load(),sounds.yellow_sound.load(),sounds.blue_sound.load(),$(".simon").on("click",function(a){var b="#"+a.target.id,c=b.slice(1,2);switch(c){case"r":sounds.red_sound.play();break;case"g":sounds.green_sound.play();break;case"y":sounds.yellow_sound.play();break;case"b":sounds.blue_sound.play()}"answers"==game.state.name&&answers.check_answers(b)}),$(".start").on("click",function(){game.start()}),$(".strict").on("click",function(){"easy"==game.mode?(game.mode="strict",$(this).html("strict")):(game.mode="easy",$(this).html("easy"))})});
